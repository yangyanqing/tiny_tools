使用脚本基于 SVN 副本生成对比文件

应用场景
   1、合代码之前的走查，需要生成对比文件，然后用 Merge 或 Beyond Compare 类的工具比较；
   2、在副本上开发过程中的代码备份；

常见做法
   场景1，重新 checkout 一份副本，之后两个完整的目录贴附件；
   场景2，拷贝整个目录到备份位置；

存在问题
   对于只有几十个文件的小目录来说，上面的做法没有问题，但对于涉及到多个一级目录的修改来说，拷贝的代价就太大了，哪怕是只修改了分布在多个目录下的几个文件。

解决方案
   这里提供一种提取差异的简便方法，让脚本帮我们去做比较这件事，实现最少干预、最小空间占用。

前提条件
   PC 带有 svn 命令行，有如下两种方式安装：
  （1）1.6 及以上版本的 TortoiseSVN 安装时注意勾选 Command Line Tools 选项；
  （2）下载与 TortoiseSVN 相匹配的（第二位版本号相同）的 Subversion，解压后将 svn.exe 的路径添加到 PATH 中；

安装方法
  （1）下载压缩包 svn_diff.zip，解压到本地硬盘；
  （2）运行 install.bat 即可（已在 Winxp、Win7 上验证通过）；
 
使用时机
  （1）在副本上直接开发，参见《如何正确使用SVN》；
  （2）在修改代码之后，commit之前使用；
 
使用方法
  （1）在副本中包含所有修改代码的顶级目录上点右键，选择菜单中的 Svn_Diff；
  （2）命令行的方式调用，供二次封装使用，比如另外写一个bat，将后一个参数设定为以当前时间为名称的目录
       svn_diff.bat  workcopy_path[\some_sub_dir]  x:\result_path
       workcopy_path[\some_sub_dir] 可以选择本地副本的根，或者任意子目录，从这个路径开始向下遍历
       x:\result_path               最好指向一个不存在的路径，以免删除时出错

使用效果
  在 x:\result_path 下生成 old、new 两个目录
  A 状态的文件含相对路径拷贝到new下
  M 状态的文件首先将本地文件全路径拷贝到 new 下，然后再从 svn 上 export 该文件到 old 中
  D 状态的文件从 svn 上 export 到 old 中